<section>

    <div class="row">
        <div class="col-md-6 m-auto">
            <div class="container mt-5 pl-5">
                <h2 class='text-center'>Edit product</h2>
                <form action='/admin/edit-product/{{product._id}}' method="POST" enctype="multipart/form-data">
                <div class='form-group'>
                    <label>Name</label>
                    <input type="text" class="form-control" name="name" value="{{product.name}}">
                </div>
                <div class='form-group'>
                    <label>Category</label>
                    <input type="text" class="form-control" name="category" value="{{product.category}}">
                </div>
                <div class='form-group'>
                    <label>Price</label>
                    <input type="number" class="form-control" name="price" value="{{product.price}}">
                </div>
                <div class='form-group'>
                    <label>Description</label>
                    <input type="text" class="form-control" name="description" value="{{product.description}}">
                </div>
                <div class='form-group'>
                    <label>Image</label>
                    <img src="/product-images/{{product._id}}.jpg" alt="" style="width: 100px; height: auto"
                        id="imgView" class="p-2">
                    <input type="file" class="form-control" name="image" onchange="viewImage(event)">
                </div>
                <div class='text-center p-3'>
                    <button type="submit" style="width: 200px" class="btn btn-success ">Submit</button>
                    <a href="/admin" style="width: 200px" class="btn btn-danger" onclick="return confirm('Are you sure you want to cancel editing?')">Cancel</a>
                </div>
                </form>
            </div>
        </div>
    </div>

</section>

<script>
    function viewImage(event) {
        document.getElementById("imgView").src = URL.createObjectURL(event.target.files[0])     // to get path of uploaded file
    }
</script>